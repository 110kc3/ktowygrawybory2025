<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Kto wygra wybory 2025?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      background: #f0f0f0;
      padding: 2rem;
    }
    canvas {
      margin: 2rem auto;
      display: block;
    }
    button {
      background: #007bff;
      color: white;
      padding: 1rem 2rem;
      font-size: 1.2rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
  </style>

  <!-- Winwheel library -->
  <script src="https://cdn.jsdelivr.net/gh/zarocknz/javascript-winwheel/Winwheel.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>

  <!-- Favicon workaround -->
  <link rel="icon" href="data:,">
</head>
<body>
  <h1>Kto wygra wybory prezydenckie 2025?</h1>

  <canvas id="wheelCanvas" width="500" height="500"></canvas>

  <button onclick="spin()">Losuj</button>

  <h2 id="winner" style="margin-top: 2rem;"></h2>

  <script>
    const candidates = [
      "BARTOSZEWICZ Artur",
      "BIEJAT Magdalena Agnieszka",
      "BRAUN Grzegorz Michał",
      "HOŁOWNIA Szymon Franciszek",
      "JAKUBIAK Marek",
      "MACIAK Maciej",
      "MENTZEN Sławomir Jerzy",
      "NAWROCKI Karol Tadeusz",
      "SENYSZYN Joanna",
      "STANOWSKI Krzysztof Jakub",
      "TRZASKOWSKI Rafał Kazimierz",
      "WOCH Marek Marian",
      "ZANDBERG Adrian Tadeusz"
    ];

    function getRandomColor() {
      const letters = "0123456789ABCDEF";
      let color = "#";
      for (let i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
    }

    const wheel = new Winwheel({
      canvasId: 'wheelCanvas',
      numSegments: candidates.length,
      outerRadius: 220,
      textFontSize: 14,
      segments: candidates.map(name => ({
        fillStyle: getRandomColor(),
        text: name
      })),
      animation: {
        type: 'spinToStop',
        duration: 6,
        spins: 10,
        callbackFinished: displayWinner
      }
    });

    function spin() {
      document.getElementById("winner").textContent = "";
      wheel.stopAnimation(false);
      wheel.rotationAngle = 0;
      wheel.startAnimation();
    }

    function displayWinner(indicatedSegment) {
      document.getElementById("winner").textContent = "Wygra " + indicatedSegment.text;
    }
  </script>
</body>
</html>
